<% if flash.now[:success] %>
  <%= render "layouts/toast" %>
<% end %>
<div class="password-change">
    <%= render "layouts/sidebar" %>
    <div class="content">
        <div class="heading"> 
            <div class="heading-avt">
                <div class="heading-circle">
                    <% if @user.avatar.attached? %>
                        <%= image_tag @user.avatar  %>
                    <% end %>
                </div>
            </div>
            <div> 
                <h1><%= @user.name %></h1>
                <label for="user_avatar">Update Avatar</label>
            </div>
        </div>
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
            <div> 
                <label></label>
                <%= f.file_field :avatar %>
            </div>
            <div>
              <%= f.label :name %><br />
              <%= f.text_field :name, autofocus: true, autocomplete: "name" %>
            </div>
            <div>
              <%= f.label :email %><br />
              <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
            </div>
            <div> 
                <%= f.label :age, "Age" %>
                <%= f.number_field :age %>
            </div>
            <div> 
                <%= f.label :phonenumber, "Phone Number" %>
                <%= f.number_field :phonenumber %>
            </div>
            <div> 
                <%= f.label :gender, "Gender" %>
                <%= f.select :gender, User.genders.keys %>
            </div>
            <div> 
                <%= f.label :address, "Address" %>
                <%= f.select :address, User.addresses.keys %>
            </div>
            <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
              <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
            <% end %>
            <div>
              <%= f.label :password %>
              <%= f.password_field :password, autocomplete: "new-password" %>
            </div>
            <div>
              <%= f.label :password_confirmation %><br />
              <%= f.password_field :password_confirmation, autocomplete: "new-password" %>
            </div>

            <div> 
                <label></label>
                <%= f.submit "Update" %>
                <%= link_to "Back", :back %>
            </div>
        <% end %>
        <%= button_to "Delete account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete %>
    </div>
</div>